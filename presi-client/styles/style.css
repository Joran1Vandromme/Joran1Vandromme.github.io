/* ===== Theme variables (renamed for clarity) ===== */
:root{
    --appBg: #ffffff;
    --appText: #0f172a;

    --frameBorder: #67462b;          /* card/list outer border */
    --shadow: 0 4px 12px rgba(0,0,0,.04);

    --lobbyCodeBg: #e1d3b1;
    --lobbyCodeBorder: #6e4525;

    --statusBg: #000000;
    --statusText: #76c85e;

    --playersTitleColor: #4e311d;

    --settingsBtnBg: #a9acae;
    --settingsBtnBorder: #797f83;

    --startBtnBg: #80a83d;
    --startBtnBorder: #67462b;

    --listRowBgOdd:  #806d5b;
    --listRowBgEven: #e3d5b2;

    --roleChipBg:  #baa36c;
    --roleChipTxt: #334155;

    --kickAccent: #812323;           /* border/tint base for kick */
    --kickTxt:    #b91c1c;
    --kickBg:     #81232314;          /* ~8% alpha */
    --kickBgHover:#81232329;          /* ~16% alpha */
}

* { box-sizing: border-box; }
html,body { height: 100%; }

html { background: #9cd57d; }          /* full-bleed page background */
body{
    font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
    color: var(--appText);
    background: transparent;             /* html already paints the green */
    margin: 0;                            /* remove the whitespace frame */
    padding: 0;
    max-width: none;                      /* allow full width */
}

h1,h2,h3{ margin: .2rem 0 .8rem; }
a{ color: inherit; }

.row{ display:flex; gap:.5rem; flex-wrap:wrap; margin-bottom:1rem; padding-top:1rem; }

button{
    padding:.6rem .9rem;
    border:1px solid #ccd1d7;
    border-radius:.5rem;
    background:#fff;
    cursor:pointer;
}
button:disabled{ opacity:.55; cursor:not-allowed; }

input{
    padding:.5rem .6rem;
    border:1px solid #ccd1d7;
    border-radius:.4rem;
    min-width: 10ch;
    color: #4e311d;                           /* dark brown text */
    text-align: center;
    font-weight: 800;
}

[hidden]{ display:none !important; }

#screen-home,
#screen-lobby {
    max-width: 1100px;   /* center the UI */
    margin: 2rem auto;   /* top/bottom margin + center horizontally */
    padding: 0 1rem;     /* left/right breathing room */
}

@media (max-width: 640px){
    #screen-home,
    #screen-lobby {
        margin: 1rem auto;
        padding: 0 .75rem;
    }
}

/* ===== HOME (sketch style) ===== */


.home-wrap{
    max-width: 520px;
    margin: 0 auto;
    display: grid;
    gap: 14px;                               /* spacing between bars */
}

/* Top brown bar */
.home-title{
    /*background: #8b5e3c;                     /* brown bar */
    color: #4e311d;                           /* dark brown text */
    text-align: center;
    font-weight: 800;
    padding: .9rem 1.2rem;
    border-radius: 18px;
    letter-spacing: .3px;
    font-size: 2rem;

}

/* Brown input bars */
.home-input{
    background: #8b5e3c;
    color: #21160f;                           /* very dark brown text */
    border-radius: 18px;
    border-color: #372b1b;
    border-width: 3px;
    padding: .9rem 1.1rem;
    font-size: 1rem;
    outline: none;
    box-shadow: 0 3px 10px rgba(0,0,0,.06) inset;
}
.home-input::placeholder{
    color: #a68367;                           /* pale sand text for placeholder */
    opacity: 1;
}
.home-input:focus{
    box-shadow:
            0 0 0 3px rgba(78,49,29,.25),           /* soft focus ring */
            0 3px 10px rgba(0,0,0,.06) inset;
}

/* Grey pill buttons */
.home-btn{
    background: #c9c9c9;                      /* light grey */
    color: #222;
    border: 3px solid #8a8a8a;                /* darker grey rim */
    border-radius: 18px;
    padding: .85rem 1rem;
    font-weight: 700;
    box-shadow: 0 2px 6px rgba(0,0,0,.05);
    cursor: pointer;
}
.home-btn:hover{
    filter: brightness(.97);
}
.home-btn:active{
    transform: translateY(1px);
}

/* Small screens */
@media (max-width: 520px){
    .home-screen{ padding: 1.6rem .9rem; }
    .home-wrap{ gap: 12px; }
}

/* ===== LOBBY ===== */

/* Top line: status (left) + centered lobby code */


.lobby-top{
    display:grid;
    grid-template-columns: 200px 1fr 200px;
    align-items:center;
    margin:.2rem 0 .8rem;
}

.status-pill{
    display:inline-block;
    background: var(--statusBg);
    color: var(--statusText);
    padding:.25rem .6rem;
    border-radius:.4rem;
    font-size:.9rem;
}

.lobby-code{
    justify-self:center;
    background: var(--lobbyCodeBg);
    color: var(--frameBorder);
    border:3px solid var(--lobbyCodeBorder);
    padding:.4rem .9rem;
    border-radius:.4rem;
    font-weight:700;
    letter-spacing:.5px;
}

/* Title above the grid so right toolbar aligns with the list top */
.players-title{
    color: var(--playersTitleColor);
    font-weight:800;
    margin:0 0 .6rem 0;
}

/* Two-column layout */
.lobby-grid{
    display:grid;
    grid-template-columns: 320px minmax(340px, 1fr);
    gap:1.25rem;
    align-items:start;
}

/* ===== Player list card ===== */
#playerList{
    list-style:none;
    margin:0;
    padding:.25rem;
    background: var(--frameBorder);     /* outer frame color */
    border:5px solid var(--frameBorder);
    border-radius:12px;
    box-shadow: var(--shadow);
    overflow:hidden;                    /* clip row backgrounds to rounded corners */
}

#playerList li{
    display:flex;
    align-items:center;
    justify-content:space-between;      /* name left, role/kick right */
    gap:.75rem;
    padding:.6rem .8rem;
}

#playerList li:nth-child(odd){  background: var(--listRowBgOdd);  }
#playerList li:nth-child(even){ background: var(--listRowBgEven); }

#playerList .js-name{
    font-weight:500;
    letter-spacing:.1px;
}

/* Make your own name bold (set by aria-current="true" in JS) */
#playerList [aria-current="true"] .js-name{ font-weight:700; }

/* Role chip */
#playerList .js-role{
    font-size:.85rem;
    background: var(--roleChipBg);
    color: var(--roleChipTxt);
    padding:.15rem .5rem;
    border-radius:999px;                 /* pill */
    margin-right:.5rem;
    text-transform:lowercase;
}

/* Kick button with subtle tinted background */
#playerList .js-kick{
    font-size:.8rem;
    padding:.3rem .6rem;
    border-radius:.4rem;
    border:2px solid var(--kickAccent);
    color: var(--kickTxt);
    background: var(--kickBg);
    cursor:pointer;
}
#playerList .js-kick:hover{ background: var(--kickBgHover); }

/* ===== Right column ===== */

/* Toolbar aligns with the top of the list */
.toolbar{
    display:flex;
    gap:.8rem;
    align-items:center;
    margin-bottom:.75rem;
}

/* Big settings button (host-enabled) */
.btn-settings{
    flex:1;                               /* wide like your mock */
    background: var(--settingsBtnBg);
    border:3px solid var(--settingsBtnBorder);
    color:#262b2e;
    font-weight:600;
    text-align:center;
    border-radius:.6rem;
}

/* Start Game (host-enabled) */
.btn-start{
    background: var(--startBtnBg);
    border:2px solid var(--startBtnBorder);
    color:#0b3a1f;
    font-weight:700;
    border-radius:2rem;
}

/* Settings panel */
.settings-panel{
    background:#c1c5c6;                   /* “light blue” in your palette */
    border:1px solid #c2c6c6;
    border-radius:12px;
    padding:1rem;
    min-height:220px;
    box-shadow: var(--shadow);
}
.settings-panel h3{ margin-top:0; margin-bottom:.75rem; }
.settings-row{ margin-bottom:.75rem; }
.settings-row label{ display:flex; gap:.6rem; align-items:center; }

/* ===== Leave Lobby button ===== */
#btnLeave{
    background:#fff;
    border:2px solid var(--frameBorder);
    color: var(--playersTitleColor);
    font-weight:600;
    border-radius:.6rem;
}
#btnLeave:hover{
    background: var(--lobbyCodeBg);       /* soft tint on hover */
}

/* ===== Small screens ===== */
@media (max-width: 800px){
    .lobby-grid{ grid-template-columns: 1fr; }
    .toolbar{ flex-direction:column; align-items:stretch; }
    .lobby-top{ grid-template-columns: 1fr; gap:.5rem; }
    .lobby-code{ justify-self:start; }
}

/*---------------------------------------------*/
/*---------------------GAME SCREEN------------------------*/
/*---------------------------------------------*/

#screen-game { max-width: 1200px; margin: 0 auto; }
.game-header { display:flex; gap:8px; align-items:center; justify-content:space-between; margin: 12px 0; }
.pill { padding:4px 10px; border-radius:999px; background:#2e7d32; color:#fff; font-size:12px; }
.game-area { display:grid; grid-template-columns: 1fr 280px; gap:16px; min-height: 40vh; }
.pile-cards { display:flex; flex-wrap:wrap; gap:8px; align-items:flex-end; min-height:76px; }
.hand-area { margin-top: 16px; }
.hand { display:flex; gap:8px; flex-wrap:wrap; padding:10px; background:#143d14; border-radius:12px; }
.card { width:56px; height:76px; border-radius:8px; border:1px solid rgba(255,255,255,.2); background:#fff; display:inline-flex; align-items:center; justify-content:center; font-weight:700; cursor:pointer; transition: transform .18s ease, box-shadow .18s ease, opacity .18s; }
.card {
    background: white;         /* your base card color */
    border: none;              /* remove button border */
    outline: none;             /* no focus ring */
    box-shadow: 0 0 4px rgba(0,0,0,0.25);
    cursor: pointer;           /* keep pointer on hover */
}

/* Prevent color shift on click */
.card:active,
.card:focus {
    background: white;
    outline: none;
    box-shadow: 0 0 6px rgba(0,0,0,0.4); /* optional pressed look */
}

.card.selected { transform: translateY(-12px); box-shadow:0 8px 20px rgba(0,0,0,.35); }
.players { list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:6px; }
.players li[aria-current="true"] { font-weight:700; }
.shake { animation: shake .3s linear; }
@keyframes shake {
    10%, 90% { transform: translateX(-1px); }
    20%, 80% { transform: translateX(2px); }
    30%, 50%, 70% { transform: translateX(-4px); }
    40%, 60% { transform: translateX(4px); }
}



/* Custom white circle cursor */
/* Hand highlight only (do NOT color cards) */
#yourHand.dragging {
    background: #1b4d1b;
    box-shadow: inset 0 0 8px rgba(255,255,255,0.3);
}

/* Custom white-circle cursor for container AND cards while dragging */
#yourHand.dragging,
#yourHand.dragging .card {
    cursor: url("data:image/svg+xml;utf8,\
    <svg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'>\
      <circle cx='16' cy='16' r='6' fill='cyan' />\
    </svg>") 16 16, auto !important;
    user-select: none;
    -webkit-user-drag: none;
}
#yourHand {
    user-select: none;
    -webkit-user-select: none;
    -webkit-user-drag: none;
}

/* Hand highlight when it's YOUR turn */
#yourHand.your-turn {
    background: #ffec99;   /* honey yellow */
    box-shadow: inset 0 0 8px rgba(0,0,0,0.25);
    transition: background 0.2s;
}

/* Player list highlight when it's THEIR turn */
#othersList li.their-turn {
    border: 2px solid #ffec99;
    border-radius: 8px;
    padding: 2px 4px;
    background: rgba(255,236,153,0.2); /* faint honey fill */
}
/* Player list container */
#othersList {
    display: flex;
    flex-direction: column;
    gap: 8px;
    margin: 0;
    padding: 0;
    list-style: none;
}

/* Player row card */
#othersList li {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 8px;
    padding: 8px 10px;
    border: 1px solid rgba(255,255,255,0.15);
    border-radius: 10px;
    background: rgba(255,255,255,0.06);
    backdrop-filter: blur(2px);
    color: #fff;
}

/* Name on the left, count on the right (optional utility) */
#othersList li .name { font-weight: 600; }
#othersList li .count { opacity: 0.85; font-variant-numeric: tabular-nums; }

/* Subtle hover */
/* Subtle hover only when not passed/finished */
#othersList li:not(.player-passed):not(.player-finished):hover {
    background: rgba(255,255,255,0.10);
}


/* Active player's turn highlight */

/* Your own entry if ever displayed here (keeps it distinct) */
#othersList li[aria-current="true"] {
    outline: 1px dashed rgba(255,255,255,0.25);
}

#othersList li .name {
    font-weight: 600;
}
#othersList li .name:has(+ .count)::after {
    /* nothing extra here, but keeping selector for future badges */
}

/* Make the “[you]” label slightly dimmer so it reads like a tag */
#othersList li:last-child .name {
    opacity: 0.95;
}


.turn-timer {
    margin-top: 0.5rem;
    display: grid;
    gap: 0.25rem;
    align-items: center;
    user-select: none;
}

.turn-timer[hidden] { display: none; }

.turn-timer__bar {
    position: relative;
    height: 8px;
    background: rgba(0,0,0,0.15);
    border-radius: 999px;
    overflow: hidden;
}

.turn-timer__fill {
    position: absolute;
    inset: 0 auto 0 0;
    width: 0%;
    background: linear-gradient(90deg, #ffdb44, #fdd943); /* green */
    border-radius: 999px;
    transition: width 0.12s linear;
}

.turn-timer.paused .turn-timer__fill {
    background: linear-gradient(90deg, #a3a3a3, #737373); /* gray when not your turn */
}

.turn-timer__label {
    font-size: 0.85rem;
    line-height: 1;
    color: #133015; /* fits your green theme */
    opacity: 0.8;
}

/* Slightly darker default background for player list items */
#othersList li {
    background: rgba(0,0,0,0.08);
    border-radius: 10px;
    padding: 6px 10px;
}

/* Passed state: light transparent red background */
#othersList li.player-passed {
    background: rgba(220, 38, 38, 0.18); /* red-600 @ ~18% */
}

/* Finished/out state: dark green/gray background */
#othersList li.player-finished {
    background: rgba(31, 41, 55, 0.35); /* slate-800 @ ~35% */
    color: #e5e7eb; /* make text readable */
}

/* Keep your-turn highlight stacking nicely */
#othersList li.their-turn {
    outline: 2px solid rgba(34,197,94,0.8);
}

/* Current slag (red box in sketch) */
.pile-current {
    display: flex;
    justify-content: center;
    /*margin: 1rem 0;*/
}

.pile-current .card {
    transform: scale(1.2); /* make it stand out */
    margin: 0 0.25rem;
}

/* History slagen (purple box in sketch) */
.pile-history {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-bottom: 1rem;

}

.slag-history {
    display: flex;
    justify-content: center;
    opacity: 0.7; /* fade old ones slightly */
}

.slag-history .card.small {
    transform: scale(0.7); /* shrink down */
    /*margin: 0 0.15rem;*/
}

/* --- Pile layout tighten --- */
.pile-history {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 6px;                 /* ↓ smaller vertical gap between moves */
    margin-bottom: 6px;
}

.pile-current {
    display: flex;
    justify-content: center;
    gap: 0;                   /* no built-in spacing; we overlap instead */
    margin-top: 6px;          /* ↓ less space above current slag */
}

/* --- Overlap effect (current slag) --- */
.pile-current .card {
    position: relative;
    margin-left: -22px;       /* overlap amount (tweak to taste) */
}
.pile-current .card:first-child {
    margin-left: 0;           /* no negative margin on the first card */
}

/* --- History rows look like mini stacks --- */
.slag-history {
    display: flex;
    justify-content: center;
    gap: 0;                   /* no gap; we overlap instead */
    opacity: 0.8;
    transform: scale(0.78);   /* smaller than current slag */
    transform-origin: center;
}

.slag-history .card {
    position: relative;
    margin-left: -16px;       /* overlap for history (slightly smaller) */
}
.slag-history .card:first-child {
    margin-left: 0;
}

/* Optional: make old cards a touch softer */
.slag-history .card .rank,
.slag-history .card .suit {
    opacity: 0.9;
}


/* Reduce vertical spacing between history moves */
.pile-history {
    gap: 2px;              /* tighter gap between moves (default was 6px) */
    margin-bottom: 2px;    /* minimal spacing below history */
}

/* Reduce spacing above/below current slag */
.pile-current {
    margin-top: 2px;
    margin-bottom: 2px;
}

/* Reset unwantile-current .cared margins from cards in these contexts */
.pd,
.slag-history .card {
    margin-top: 0;
    margin-bottom: 0;
}


.slag-history {
    transform: scale(0.7);   /* even smaller */
}

/* --- Compact history rows (override earlier rules) --- */
.pile-history {
    gap: 0;                 /* no extra vertical gap between rows */
    margin: 4px 0;
}

.slag-history {
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 2px 0;          /* tiny space between rows */
    line-height: 0;         /* collapse inline spacing */
    opacity: 0.85;
    transform: none !important; /* cancel any earlier scaling */
}

.slag-history .card {
    /* real smaller size (don’t rely on scale) */
    width: 44px;
    height: 60px;
    font-size: 0.9rem;
    margin-left: -14px;     /* overlap like current slag */
    transform: none !important; /* cancel earlier .small scaling */
}

.slag-history .card:first-child {
    margin-left: 0;
}

